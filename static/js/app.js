(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],s[o]&&p.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"c-section c-p-y-tall scenario-mod",attrs:{id:"app"}},[i("TTSdemo")],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"c-section-inner"},[t._m(0),i("div",{staticClass:"c-section-bd"},[i("div",{staticClass:"c-tab-normal c-tab-responsive"},[i("div",{staticClass:"c-tab-panel",staticStyle:{display:"block"}},[i("div",{staticClass:"c-tab-m-tit"},[t._v("普通话")]),i("div",{staticClass:"c-tab-panel-mod",staticStyle:{"padding-top":"0",display:"block"}},[i("div",{staticClass:"identify-content"},[i("div",{staticClass:"identify-con-text-bd"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Text,expression:"Text"}],staticClass:"identify-con-textarea",attrs:{maxlength:"100",placeholder:"腾讯云基于业界领先技术构建的语音合成系统，具备合成速度快、合成拟真度高、语音自然流畅等特点，能够应用于多种使用场景，让设备和应用轻松发声。"},domProps:{value:t.Text},on:{input:[function(e){e.target.composing||(t.Text=e.target.value)},t.handleInput]}}),i("div",{staticClass:"identify-con-text-bd-prompt",class:{warning:!!t.err}},[t._v("\n                "+t._s(t.err?t.err:"还可以输入"+(100-t.Text.length)+"个字")+"\n              ")])]),i("div",{staticClass:"identify-con-tool"},[i("div",{staticClass:"identify-con-tool-list"},[i("div",{staticClass:"identify-tool-list-bd"},[i("div",{staticClass:"tool-label"},[t._v("声音")]),i("div",{staticClass:"tool-con"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.VoiceType,expression:"VoiceType"}],staticClass:"tool-select",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.VoiceType=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"4"}},[t._v("温暖女声")]),i("option",{attrs:{value:"0"}},[t._v("亲和女声")]),i("option",{attrs:{value:"5"}},[t._v("情感女声")]),i("option",{attrs:{value:"2"}},[t._v("成熟男声")]),i("option",{attrs:{value:"1"}},[t._v("亲和男声")]),i("option",{attrs:{value:"6"}},[t._v("情感男声")])])])])]),i("vSlider",{attrs:{max:2,min:-2,step:4,disabled:t.disabled,title:"语速"},model:{value:t.Speed,callback:function(e){t.Speed=e},expression:"Speed"}}),i("vSlider",{attrs:{max:10,min:0,step:10,disabled:t.disabled,title:"音量"},model:{value:t.Volume,callback:function(e){t.Volume=e},expression:"Volume"}}),i("div",{staticClass:"identify-con-tool-list"},[i("div",{staticClass:"identify-tool-list-bd"},[i("div",{staticClass:"tool-label"},[t._v("采样率")]),i("div",{staticClass:"tool-con"},[i("div",{staticClass:"rich-radio",attrs:{role:"radiogroup"}},[i("button",{class:{checked:8e3===t.SampleRate},attrs:{role:"radio"},on:{click:function(e){!t.disabled&&(t.SampleRate=8e3)}}},[t._v("\n                        8k\n                      ")]),i("button",{class:{checked:16e3===t.SampleRate},attrs:{role:"radio"},on:{click:function(e){!t.disabled&&(t.SampleRate=16e3)}}},[t._v("\n                        16k\n                      ")])])])])]),i("div",{staticClass:"identify-con-tool-list identify-btn-play"},[i("div",{staticClass:"identify-tool-list-bd"},[t.IsPC?i("div",{staticClass:"tool-con"},[0===t.transformStatus?i("button",{ref:"synthesis",staticClass:"c-btn none",on:{click:t.doText2Voice}},[t._v("\n                      "+t._s(t.buttonText)+"\n                    ")]):t._e(),1===t.transformStatus?i("button",{staticClass:"c-btn loading",on:{click:t.doText2Voice}},[t._v("\n                      正在合成\n                    ")]):t._e(),2===t.transformStatus?i("button",{staticClass:"c-btn pause",on:{click:t.doPauseAudio}},[t._v("\n                      正在播放\n                    ")]):t._e()]):i("div",{staticClass:"tool-con"},[0===t.transformStatus?i("button",{ref:"synthesis",staticClass:"c-btn none",on:{click:t.doText2Voice}},[t._v("\n                      "+t._s(t.buttonText)+"\n                    ")]):t._e(),1===t.transformStatus?i("button",{staticClass:"c-btn loading"},[t._v("\n                      正在合成\n                    ")]):t._e(),0===t.playStatus?i("button",{staticClass:"c-btn",class:{"c-btn-disabled":!t.canPlay},on:{click:t.doPlayAudio}},[t._v("\n                      播放语音\n                    ")]):t._e(),1===t.playStatus?i("button",{staticClass:"c-btn pause",class:{"c-btn-disabled":!t.canPlay},on:{click:t.doPauseAudio}},[t._v("\n                      正在播放\n                    ")]):t._e()])])])],1)])])])])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"c-section-hd identify-demo-hd"},[i("h3",{staticClass:"c-section-tit"},[t._v("试用产品")])])}],l=i("bc3a"),c=i.n(l),d=i("2d1f"),u=i.n(d),p=i("3452"),v=i.n(p),h=1255628450,f="AKID31NbfXbpBLJ4kGJrytc9UfgVAlGltJJ8",m="kKm26uXCgLtGRWVJvKtGU0LYdWCgOvGP",b=function(t){t["SecretId"]=f,t["AppId"]=h;var e=u()(t).map(function(t){return t.join("=")}).join("&"),i="POSTaai.cloud.tencent.com/tts?"+e,n=v.a.HmacSHA1(i,m);return v.a.enc.Base64.stringify(n)},y={InternalError:"内部错误。","InternalError.TextConvertFailed":"文本转换失败，请检查文本格式。","InvalidParameter.ErrorNoBodydata":"没有body数据。",InvalidParameterValue:"参数取值错误。","InvalidParameterValue.AppIdNotRegistered":"appid未注册。","UnsupportedOperation.TextTooLong":"中文最大支持100个汉字（标点符号算一个汉字）；英文最大支持400个字母（标点符号算一个字母）。"},g=c.a.create({baseURL:"https://aai.cloud.tencent.com",withCredentials:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"}});function S(t){return g.post("/beta_tts",t,{headers:{"Content-Type":"application/json",Authorization:b(t)}}).then(function(t){var e=t.data;if(e.Response.Error)throw y[e.Response.Error];return e.Response})}var C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"identify-con-tool-list"},[i("div",{staticClass:"identify-tool-list-bd"},[i("div",{staticClass:"tool-label"},[t._v(t._s(t.title))]),i("div",{staticClass:"tool-con"},[i("div",{staticClass:"identify-regulate-bd"},[i("div",{ref:"slider",staticClass:"progress",class:{disabled:t.disabled}},[i("div",{staticClass:"progress-value",style:{width:t.currentPosition}},[i("span",{staticClass:"btn",on:{mousedown:t.onButtonDown,touchstart:t.onButtonDown}})])])])]),i("div",{staticClass:"tool-label"},[t._v(t._s(t.showUseValue))])])])},w=[],_=i("59ad"),x=i.n(_),P=(i("c5f6"),{props:{max:{type:Number,required:!0},min:{type:Number,required:!0},step:{type:Number,required:!0},value:{type:Number,required:!0,default:0},title:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{isClick:!1,dragging:!1,currentX:0,sliderSize:0}},computed:{currentPosition:function(){return"".concat((this.value-this.min)/(this.max-this.min)*100,"%")},showUseValue:function(){var t=this.value;return this.min<0&&t>0&&(t="+".concat(t)),t}},mounted:function(){this.sliderSize=this.$refs.slider["clientWidth"]},methods:{onButtonDown:function(){this.disabled||(event.preventDefault(),this.onDragStart(event),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onDragStart:function(t){this.dragging=!0,this.isClick=!0,"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.startX=t.clientX,this.startPosition=x()(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){this.isClick=!1;var e=0;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.currentX=t.clientX,e=(this.currentX-this.startX)/this.sliderSize*100,this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){var t=this;this.dragging&&(setTimeout(function(){t.dragging=!1,t.isClick||t.setPosition(t.newPosition)},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var e=Math.round(t/100*this.step)+this.min;this.$emit("input",e)}}}}),T=P,E=i("2877"),k=Object(E["a"])(T,C,w,!1,null,null,null),V=k.exports;function A(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,n=0;n<e.length;n++)if(t.indexOf(e[n])>0){i=!1;break}return i}var D={components:{vSlider:V},data:function(){return{audio:new Audio,Text:"",SampleRate:16e3,Speed:0,Volume:5,disabled:!1,VoiceType:"4",transformStatus:0,playStatus:0,canPlay:!1,playing:!1,IsPC:!0,err:"",errStatus:0,buttonText:"合成语音"}},created:function(){var t=this;this.IsPC=A(),this.audio.addEventListener("ended",function(){t.disabled=!1,t.IsPC?t.transformStatus=0:t.playStatus=0})},methods:{handleInput:function(){var t=/^[\sa-zA-Z0-9\u4e00-\u9fa5~!@#$%^&*()_+`\-={}|:"<>?[\];',.\/~！@#￥%…&*（）—+·\-={}|：“”《》？【】、；‘’，。\/]*[\sa-zA-Z0-9\u4e00-\u9fa5~!@#$%^&*()_+`\-={}|:"<>?[\];',.\/~！@#￥%…&*（）—+·\-={}|：“”《》？【】、；‘’，。\/]$/gim;t.test(this.Text)||!this.Text.trim()?(this.err="",this.errStatus=0):(this.err="只支持中英文和数字，请重新输入内容",this.errStatus=1)},doText2Voice:function(){var t=this;if(1!=this.transformStatus&&1!=this.errStatus){this.transformStatus=1,this.playStatus=0,this.canPlay=!1,this.disabled=!0,this.audio.pause();var e=this.IsPC,i=this.Volume,n=this.Speed,s=this.VoiceType,a=this.SampleRate,o=this.Text;S({Action:"TextToVoice",AppId:null,Expired:Math.floor((new Date).getTime()/1e3)+3600,ModelType:1,SampleRate:a,SecretId:"",SessionId:"session-1234",Speed:n,Text:o||"腾讯云基于业界领先技术构建的语音合成系统，具备合成速度快、合成拟真度高、语音自然流畅等特点，能够应用于多种使用场景，让设备和应用轻松发声。",Timestamp:Math.floor((new Date).getTime()/1e3),VoiceType:+s,Volume:i}).then(function(i){t.audio.src="data:audio/wav;base64,"+i.Audio,e?(t.transformStatus=2,t.audio.play()):(t.transformStatus=0,t.canPlay=!0,t.disabled=!1),t.buttonText="再次合成"}).catch(function(e){t.err=e,t.errStatus=2})}},doPlayAudio:function(){this.canPlay&&(this.playStatus=1,this.audio.play(),this.disabled=!0)},doPauseAudio:function(){var t=this.IsPC;t?(this.transformStatus=0,this.audio.pause()):(this.playStatus=0,this.audio.pause()),this.disabled=!1}}},I=D,O=Object(E["a"])(I,o,r,!1,null,null,null),L=O.exports,j={components:{TTSdemo:L}},R=j,X=Object(E["a"])(R,s,a,!1,null,null,null),N=X.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(N)}}).$mount("#app")}});
//# sourceMappingURL=app.js.map