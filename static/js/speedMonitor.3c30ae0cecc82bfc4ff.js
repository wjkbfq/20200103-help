(function(r){var n={};function o(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,o);t.l=true;return t.exports}o.m=r;o.c=n;o.d=function(e,t,r){if(!o.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};o.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};o.t=function(t,e){if(e&1)t=o(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);o.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r};o.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};o.d(e,"a",e);return e};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";return o(o.s=9)})({12:function(e,t,r){"use strict";r.r(t);var n={screenHeight:document.documentElement.clientHeight,speedData:{navigation:0,lookupDomain:0,connect:0,request:0,load:0,firstScreen:0,firstScreenByImg:0,firstScreenByDom:0,firstScreenByDot:0},init:function(){var t=this;window.addEventListener("load",function(){var e=(new Date).getTime();if(!window.performance||!window.performance.timing)return;try{setTimeout(function(){t.getFirstScreenSpeedByImg();t.getLoadSpeed(e);t.doReport()},5e3)}catch(e){}})},getLoadSpeed:function(e){try{var t=window.performance.timing;var r=t.navigationStart;this.speedData.navigation=t.domainLookupStart-r;this.speedData.lookupDomain=t.domainLookupEnd-r;this.speedData.connect=t.connectEnd-r;this.speedData.request=t.responseEnd-r;this.speedData.domReady=t.domContentLoadedEventStart-r;this.speedData.load=t.loadEventStart-r;this.speedData.firstScreen=e-r;this.speedData.firstScreenByDom=!!window.firstScreenByDom?window.firstScreenByDom-r:0;this.speedData.firstScreenByDot=window.footerLoadTime-r||0}catch(e){throw new Error("获取页面加载速度相关数据失败")}},getFirstScreenSpeedByImg:function(){try{var e=0;var t=0;if(!window.performance.getEntries)return;var r=window.performance.getEntries();for(var n=0;n<r.length;n++){var o=r[n];if(o.initiatorType==="img"||o.initiatorType==="css"){if(!/\.jpeg|\.gif|\.jpg|\.png|\.bmp|\.pic|\.svg/.test(o.name)){return false}if(o.initiatorType==="img"){var i=document.querySelector("img[src='"+o.name+"']");if(i){var a=i.getBoundingClientRect();if(a.top>this.screenHeight){return false}}}var c=o.responseEnd;if(c>t){e=c;t=c}}this.speedData.firstScreenByImg=parseInt(e)}}catch(e){throw new Error("获取首屏加载时间by图片计算方式失败")}},http_img_sender:function(){var n=new Image;var e=function(e,t){var r=function(){n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null;n=null};n.src=e};r()};return e},doReport:function(){try{var e=this.speedData;var t={url:location.protocol+"//"+location.host+location.pathname,navigation:e.navigation,lookupDomain:e.lookupDomain,connect:e.connect,request:e.request,domReady:e.domReady,load:e.load,firstScreen:e.firstScreen,firstScreenByDom:e.firstScreenByDom,firstScreenByImg:e.firstScreenByImg,firstScreenByDot:e.firstScreenByDot};if(location.hostname.indexOf("qcloud.com")!=-1){var r="//qcloud.com/act/common/report?action=webClientSpeedReport"}else{var r="/act/common/report?action=webClientSpeedReport"}var n=[];for(var o in t){n.push(o+"="+encodeURIComponent(t[o]))}var i=this.http_img_sender();i(r+(r.indexOf("?")<0?"?":"&")+n.join("&"),true)}catch(e){throw new Error("doReport数据上报失败")}}};window.WebSpeed=n;try{n.init()}catch(e){throw new Error("测速初始化失败")}},9:function(e,t,r){e.exports=r(12)}});